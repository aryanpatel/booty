jQuery(function(e){function t(t,n){for(var i=t,a=n,m=i.attr("class").split(" "),u=i.find("input.menu-item-data-parent-id").val(),c=0;c<m.length;c+=1)if(m[c].indexOf("menu-item-depth-")>=0){var r=m[c].split("menu-item-depth-"),o=i.attr("id");r=parseInt(r[1])+a,o=o.replace("menu-item-",""),0===r?(i.find(".wrap-custom-options-level1-"+o).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}),i.find(".wrap-custom-options-level0-"+o).show().find('select, input[type="text"], textarea').each(function(){e(this).val()?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")}),i.find(".wrap-custom-options-level0-"+o).find('input[type="checkbox"]').each(function(){e(this).is(":checked")?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")})):1===r?(e("#edit-menu-item-use_megamenu-"+u).prop("checked")?i.find(".wrap-edit-menu-item-mega_item_column").show():i.find(".wrap-edit-menu-item-mega_item_column").hide(),i.find(".wrap-custom-options-level0-"+o).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}),i.find(".wrap-custom-options-level1-"+o).show().find('select, input[type="text"], textarea').each(function(){e(this).val()?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")}),i.find(".wrap-custom-options-level1-"+o).find('input[type="checkbox"]').each(function(){e(this).is(":checked")?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")})):(i.find(".wrap-custom-options-level0-"+o).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}),i.find(".wrap-custom-options-level1-"+o).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}))}}e(document).on("click",".edit-menu-item-use_megamenu",function(t){var n=e(this).attr("id"),i=n.replace("edit-menu-item-use_megamenu-","");e("#"+n).prop("checked")?(e("#wrap-edit-menu-item-panel_column-"+i).show(),e('input.menu-item-data-parent-id[value="'+i+'"]').length&&e('input.menu-item-data-parent-id[value="'+i+'"]').parent().parent().find(".wrap-edit-menu-item-mega_item_column").show()):(e("#wrap-edit-menu-item-panel_column-"+i).hide(),e('input.menu-item-data-parent-id[value="'+i+'"]').length&&e('input.menu-item-data-parent-id[value="'+i+'"]').parent().parent().find(".wrap-edit-menu-item-mega_item_column").hide())}),e(document).on("change",'.menu-item select, .menu-item textarea, .menu-item input[type="text"]',function(){var t=e(this);value=t.val(),value?t.attr("name",e(this).data("name")):t.removeAttr("name")}),e(document).on("change",'.menu-item input[type="checkbox"]',function(){var t=e(this);value=t.is(":checked"),value?t.attr("name",e(this).data("name")):t.removeAttr("name")}),e("#update-nav-menu").bind("click",function(n){if(n.target&&n.target.className&&-1!=n.target.className.indexOf("item-delete")){var i=n.target,a=parseInt(i.id.replace("delete-",""),10),m=e("#menu-item-"+a),u=m.childMenuItems();u.each(function(){t(e(this),-1)})}}),e("#menu-to-edit").on("sortstop",function(n,i){var a=i.item;setTimeout(function(){t(a,0);var n=a.childMenuItems();n.each(function(){t(e(this),0)})},200)})});